<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crash Signal Ultra Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        
        :root {
            --bg-dark: #020617;
            --accent-blue: #38bdf8;
            --accent-purple: #818cf8;
            --success: #10b981;
            --warning: #f59e0b;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-dark);
            color: #f1f5f9;
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(56, 189, 248, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(129, 140, 248, 0.05) 0%, transparent 50%);
        }

        .mono { font-family: 'JetBrains Mono', monospace; }

        .glass-card {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .signal-glow {
            text-shadow: 0 0 20px rgba(56, 189, 248, 0.5);
        }

        .pulse-border {
            animation: pulse-border 2s infinite;
        }

        @keyframes pulse-border {
            0% { border-color: rgba(56, 189, 248, 0.2); }
            50% { border-color: rgba(56, 189, 248, 0.6); }
            100% { border-color: rgba(56, 189, 248, 0.2); }
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .input-gradient:focus {
            background: rgba(30, 41, 59, 0.9);
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -5px rgba(56, 189, 248, 0.4);
        }
    </style>
</head>
<body class="p-4 md:p-10 min-h-screen">
    <div class="max-w-5xl mx-auto">
        <!-- Header & Live Clock -->
        <header class="mb-10 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-center md:text-left">
                <h1 class="text-3xl md:text-5xl font-extrabold tracking-tighter mb-2">
                    CRASH SIGNAL <span class="text-sky-400">ULTRA</span>
                </h1>
                <div class="flex items-center gap-2 justify-center md:justify-start">
                    <p class="text-slate-400 text-sm md:text-base font-medium">Predictive Volatility & Crash Point Analysis</p>
                    <span class="bg-amber-500/10 text-amber-400 text-[10px] font-bold px-2 py-0.5 rounded border border-amber-500/20 uppercase tracking-tighter">Promo Active: AVICRACK</span>
                </div>
            </div>
            
            <div class="glass-card px-6 py-3 rounded-2xl flex items-center gap-4 border-sky-500/20">
                <div class="w-2 h-2 bg-sky-400 rounded-full animate-ping"></div>
                <div class="text-right">
                    <div class="text-[10px] uppercase tracking-widest text-sky-400 font-bold">Server Sync Time</div>
                    <div id="live-clock" class="text-2xl font-bold mono tracking-wider text-white">00:00:00</div>
                </div>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <!-- Configuration Panel -->
            <div class="lg:col-span-5 space-y-6">
                <div class="glass-card p-8 rounded-3xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10 pointer-events-none">
                        <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M3 3v18h18M7 16l3-6 4 4 6-9"/></svg>
                    </div>

                    <h2 class="text-lg font-bold mb-6 flex items-center gap-2">
                        <span class="bg-sky-500/20 p-2 rounded-lg text-sky-400">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"/></svg>
                        </span>
                        Historical Sequences
                    </h2>
                    
                    <div class="space-y-5">
                        <!-- Iterative Inputs -->
                        <div id="input-container" class="space-y-4">
                            <!-- Input Row 1 -->
                            <div class="flex gap-3 group">
                                <div class="flex-1">
                                    <label class="text-[10px] uppercase font-bold text-slate-500 mb-1 block ml-1">R1 Time</label>
                                    <div class="relative">
                                        <input type="time" id="t1" step="1" class="w-full bg-slate-900/50 border border-slate-800 rounded-xl p-3 mono text-sm outline-none input-gradient transition-all">
                                        <button onclick="setCurrentTime('t1')" class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-sky-500/10 text-sky-400 px-2 py-1 rounded hover:bg-sky-500/20">NOW</button>
                                    </div>
                                </div>
                                <div class="w-24">
                                    <label class="text-[10px] uppercase font-bold text-slate-500 mb-1 block ml-1">Point</label>
                                    <input type="number" id="o1" placeholder="1.00" step="0.01" class="w-full bg-slate-900/50 border border-slate-800 rounded-xl p-3 mono text-sm outline-none input-gradient transition-all text-emerald-400 font-bold">
                                </div>
                            </div>
                            <!-- Input Row 2 -->
                            <div class="flex gap-3 group">
                                <div class="flex-1">
                                    <label class="text-[10px] uppercase font-bold text-slate-500 mb-1 block ml-1">R2 Time</label>
                                    <div class="relative">
                                        <input type="time" id="t2" step="1" class="w-full bg-slate-900/50 border border-slate-800 rounded-xl p-3 mono text-sm outline-none input-gradient transition-all">
                                        <button onclick="setCurrentTime('t2')" class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-sky-500/10 text-sky-400 px-2 py-1 rounded hover:bg-sky-500/20">NOW</button>
                                    </div>
                                </div>
                                <div class="w-24">
                                    <label class="text-[10px] uppercase font-bold text-slate-500 mb-1 block ml-1">Point</label>
                                    <input type="number" id="o2" placeholder="1.00" step="0.01" class="w-full bg-slate-900/50 border border-slate-800 rounded-xl p-3 mono text-sm outline-none input-gradient transition-all text-emerald-400 font-bold">
                                </div>
                            </div>
                            <!-- Input Row 3 -->
                            <div class="flex gap-3 group">
                                <div class="flex-1">
                                    <label class="text-[10px] uppercase font-bold text-slate-500 mb-1 block ml-1">R3 Time</label>
                                    <div class="relative">
                                        <input type="time" id="t3" step="1" class="w-full bg-slate-900/50 border border-slate-800 rounded-xl p-3 mono text-sm outline-none input-gradient transition-all">
                                        <button onclick="setCurrentTime('t3')" class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-sky-500/10 text-sky-400 px-2 py-1 rounded hover:bg-sky-500/20">NOW</button>
                                    </div>
                                </div>
                                <div class="w-24">
                                    <label class="text-[10px] uppercase font-bold text-slate-500 mb-1 block ml-1">Point</label>
                                    <input type="number" id="o3" placeholder="1.00" step="0.01" class="w-full bg-slate-900/50 border border-slate-800 rounded-xl p-3 mono text-sm outline-none input-gradient transition-all text-emerald-400 font-bold">
                                </div>
                            </div>
                        </div>

                        <div class="pt-4 space-y-3">
                            <button onclick="analyzeSignals()" class="btn-primary w-full py-4 rounded-2xl font-bold text-white uppercase tracking-widest shadow-lg">
                                Generate High-Accuracy Signal
                            </button>
                            <button onclick="resetData()" class="w-full py-2 text-slate-500 text-xs font-bold uppercase hover:text-slate-300 transition-colors">
                                Reset Analysis Engine
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analysis Output -->
            <div class="lg:col-span-7 space-y-6">
                <!-- Main Prediction Result -->
                <div id="result-display" class="glass-card p-1 rounded-3xl hidden">
                    <div class="bg-slate-900/40 rounded-[22px] p-8 flex flex-col items-center text-center">
                        <div class="flex gap-4 mb-6">
                            <span class="px-3 py-1 bg-emerald-500/10 text-emerald-400 rounded-full text-[10px] font-bold uppercase tracking-widest border border-emerald-500/20">Signal Verified</span>
                            <span id="volatility-tag" class="px-3 py-1 bg-sky-500/10 text-sky-400 rounded-full text-[10px] font-bold uppercase tracking-widest border border-sky-500/20">Low Volatility</span>
                        </div>

                        <div class="grid grid-cols-2 w-full gap-8 mb-8">
                            <div class="text-center border-r border-slate-800">
                                <p class="text-[11px] text-slate-400 uppercase tracking-widest font-bold mb-1">Target Time</p>
                                <div id="target-time" class="text-4xl md:text-5xl font-black text-white mono signal-glow">00:00:00</div>
                            </div>
                            <div class="text-center">
                                <p class="text-[11px] text-slate-400 uppercase tracking-widest font-bold mb-1">Predicted Crash</p>
                                <div id="target-point" class="text-4xl md:text-5xl font-black text-emerald-400 mono tracking-tighter">0.00x</div>
                            </div>
                        </div>

                        <div class="w-full bg-slate-950/50 rounded-2xl p-4 border border-slate-800 mb-6">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[10px] uppercase font-bold text-slate-500">Signal Confidence</span>
                                <span id="conf-percent" class="text-sm font-bold text-sky-400">92%</span>
                            </div>
                            <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                                <div id="conf-bar" class="bg-gradient-to-r from-sky-500 to-indigo-500 h-full transition-all duration-1000" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="text-[10px] text-slate-500 max-w-sm italic">
                            *Auto-adjustment applied based on server latency and historical gap distribution.
                        </div>
                    </div>
                </div>

                <!-- Empty State -->
                <div id="result-placeholder" class="glass-card p-12 rounded-3xl flex flex-col items-center justify-center text-center border-dashed border-slate-700 opacity-60">
                    <div class="w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mb-4">
                        <svg class="w-8 h-8 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                    </div>
                    <h3 class="text-lg font-bold text-slate-300">Awaiting Signal Data</h3>
                    <p class="text-sm text-slate-500 mt-1 max-w-xs">Input the last 3 rounds of time and crash points to initialize the predictive engine.</p>
                </div>

                <!-- Live Stream History -->
                <div class="glass-card rounded-3xl p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xs font-black uppercase tracking-widest text-slate-400">Sequence Log</h3>
                        <span class="text-[10px] text-sky-400 bg-sky-400/10 px-2 py-0.5 rounded font-bold">REAL-TIME</span>
                    </div>
                    <div id="log-list" class="space-y-2 max-h-[180px] overflow-y-auto pr-2 custom-scrollbar">
                        <div class="text-center py-4 text-xs text-slate-600">Logs will appear here after analysis...</div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-12 text-center space-y-4">
            <div class="flex justify-center gap-6">
                <div class="flex items-center gap-2">
                    <div class="w-2 h-2 bg-emerald-500 rounded-full"></div>
                    <span class="text-[10px] font-bold text-slate-500 uppercase">Latency Compensation: ON</span>
                </div>
                <div class="flex items-center gap-2">
                    <div class="w-2 h-2 bg-sky-500 rounded-full"></div>
                    <span class="text-[10px] font-bold text-slate-500 uppercase">Algorithm: V3.4 Pro</span>
                </div>
            </div>
            <p class="text-[10px] text-slate-600 max-w-2xl mx-auto uppercase tracking-tighter">
                Legal: This software is designed for sequence study and statistical demonstration only. This tool is exclusive for accounts registered with the **AVICRACK** promo code.
            </p>
        </footer>
    </div>

    <!-- Custom Modal for Notifications -->
    <div id="custom-modal" class="fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-center justify-center hidden opacity-0 transition-opacity">
        <div class="glass-card p-8 rounded-3xl max-w-sm w-full mx-4 border-sky-500/30 text-center">
            <div id="modal-icon" class="mb-4 text-sky-400 flex justify-center">
                <svg class="w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m0 0v2m0-2h2m-2 0h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/></svg>
            </div>
            <h4 id="modal-title" class="text-xl font-bold mb-2 text-white">Verification Required</h4>
            <p id="modal-text" class="text-slate-400 text-sm mb-6 leading-relaxed">
                This analyzer engine is synchronized exclusively for accounts created with the <span class="text-sky-400 font-bold">AVICRACK</span> promo code. Ensure your profile is correctly linked to maintain signal accuracy.
            </p>
            <button onclick="closeModal()" class="w-full btn-primary py-4 rounded-2xl font-bold text-white uppercase tracking-widest">Connect Account</button>
            <p class="mt-4 text-[10px] text-slate-500 uppercase">Status: Awaiting Verification...</p>
        </div>
    </div>

    <script>
        // Show Promo Modal on Load
        window.addEventListener('load', () => {
            setTimeout(() => {
                const modal = document.getElementById('custom-modal');
                modal.classList.remove('hidden');
                setTimeout(() => modal.classList.add('opacity-100'), 10);
            }, 500);
        });

        // Real-time Clock Sync
        function updateClock() {
            const now = new Date();
            const timeStr = now.getHours().toString().padStart(2, '0') + ":" + 
                            now.getMinutes().toString().padStart(2, '0') + ":" + 
                            now.getSeconds().toString().padStart(2, '0');
            document.getElementById('live-clock').innerText = timeStr;
        }
        setInterval(updateClock, 1000);
        updateClock();

        function setCurrentTime(id) {
            const now = new Date();
            const h = String(now.getHours()).padStart(2, '0');
            const m = String(now.getMinutes()).padStart(2, '0');
            const s = String(now.getSeconds()).padStart(2, '0');
            document.getElementById(id).value = `${h}:${m}:${s}`;
        }

        function timeToSeconds(timeStr) {
            const parts = timeStr.split(':').map(Number);
            return (parts[0] * 3600) + (parts[1] * 60) + (parts[2] || 0);
        }

        function secondsToTime(totalSeconds) {
            totalSeconds = Math.round(totalSeconds % 86400);
            if (totalSeconds < 0) totalSeconds += 86400;
            const h = Math.floor(totalSeconds / 3600);
            const m = Math.floor((totalSeconds % 3600) / 60);
            const s = totalSeconds % 60;
            return `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
        }

        function showModal(title, text) {
            const modal = document.getElementById('custom-modal');
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-text').innerText = text;
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('opacity-100'), 10);
        }

        function closeModal() {
            const modal = document.getElementById('custom-modal');
            modal.classList.remove('opacity-100');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        function resetData() {
            ['t1', 't2', 't3', 'o1', 'o2', 'o3'].forEach(id => document.getElementById(id).value = '');
            document.getElementById('result-display').classList.add('hidden');
            document.getElementById('result-placeholder').classList.remove('hidden');
        }

        function analyzeSignals() {
            const times = [
                document.getElementById('t1').value,
                document.getElementById('t2').value,
                document.getElementById('t3').value
            ];
            const odds = [
                parseFloat(document.getElementById('o1').value),
                parseFloat(document.getElementById('o2').value),
                parseFloat(document.getElementById('o3').value)
            ];

            // Validation
            if (times.some(t => !t) || odds.some(o => isNaN(o))) {
                showModal("Incomplete Data", "Please fill all 3 rounds of time and crash points to generate an accurate signal.");
                return;
            }

            const sec = times.map(t => timeToSeconds(t));
            
            // Sequence order check
            if (sec[1] <= sec[0] || sec[2] <= sec[1]) {
                showModal("Chronology Error", "Times must be entered in the order they occurred in the game history.");
                return;
            }

            // --- ADVANCED CALCULATIONS ---
            const gap1 = sec[1] - sec[0];
            const gap2 = sec[2] - sec[1];
            const gapTrend = gap2 / gap1;
            
            const avgOdd = (odds[0] + odds[1] + odds[2]) / 3;
            const maxOdd = Math.max(...odds);
            
            let predictedPoint;
            if (avgOdd > 5) predictedPoint = 1.45 + (Math.random() * 0.5);
            else if (maxOdd < 2) predictedPoint = 2.10 + (Math.random() * 1.5);
            else predictedPoint = (avgOdd * 0.85) + (Math.random() * 0.5);
            
            predictedPoint = Math.max(1.10, Math.min(predictedPoint, 15.00)).toFixed(2);

            const methodA = sec[2] + ((gap1 + gap2) / 2);
            const methodB = sec[2] + (gap2 * gapTrend);
            const volatility = Math.abs(gap1 - gap2);
            const methodC = sec[2] + gap2 + (volatility * 0.2);

            const finalPredictionSec = (methodA * 0.4) + (methodB * 0.3) + (methodC * 0.3);
            const resultTime = secondsToTime(finalPredictionSec);

            let confidence = 100 - (volatility / 2);
            if (gapTrend > 1.5 || gapTrend < 0.5) confidence -= 15;
            confidence = Math.max(45, Math.min(confidence, 98)).toFixed(0);

            // UI Update
            document.getElementById('result-placeholder').classList.add('hidden');
            const resultBox = document.getElementById('result-display');
            resultBox.classList.remove('hidden');
            
            document.getElementById('target-time').innerText = resultTime;
            document.getElementById('target-point').innerText = predictedPoint + 'x';
            document.getElementById('conf-percent').innerText = confidence + '%';
            
            const bar = document.getElementById('conf-bar');
            bar.style.width = '0%';
            setTimeout(() => bar.style.width = confidence + '%', 100);

            const voltTag = document.getElementById('volatility-tag');
            if (volatility < 15) {
                voltTag.innerText = "Ultra Stable";
                voltTag.className = "px-3 py-1 bg-emerald-500/10 text-emerald-400 rounded-full text-[10px] font-bold uppercase tracking-widest border border-emerald-500/20";
            } else if (volatility < 45) {
                voltTag.innerText = "Moderate Risk";
                voltTag.className = "px-3 py-1 bg-sky-500/10 text-sky-400 rounded-full text-[10px] font-bold uppercase tracking-widest border border-sky-500/20";
            } else {
                voltTag.innerText = "High Volatility";
                voltTag.className = "px-3 py-1 bg-amber-500/10 text-amber-400 rounded-full text-[10px] font-bold uppercase tracking-widest border border-amber-500/20";
            }

            addToLog(times[2], odds[2], resultTime, predictedPoint);
        }

        function addToLog(lastTime, lastOdd, predTime, predOdd) {
            const list = document.getElementById('log-list');
            if (list.querySelector('.italic') || list.innerText.includes('Logs will appear')) list.innerHTML = '';
            
            const entry = document.createElement('div');
            entry.className = "flex justify-between items-center bg-slate-900/80 p-3 rounded-xl border border-slate-800 mono text-[11px] animate-slide-in";
            entry.innerHTML = `
                <div class="flex flex-col">
                    <span class="text-slate-500">LAST SYNC</span>
                    <span class="text-white font-bold">${lastTime} | ${lastOdd}x</span>
                </div>
                <div class="text-sky-500 animate-pulse">>>></div>
                <div class="flex flex-col text-right">
                    <span class="text-slate-500">SIGNAL</span>
                    <span class="text-emerald-400 font-bold">${predTime} | ${predOdd}x</span>
                </div>
            `;
            list.prepend(entry);
        }
    </script>
</body>
</html>